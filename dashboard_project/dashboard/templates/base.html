<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{% block title %}dashboard{% endblock %}</title>

    <link href="{% static 'css/styles.css' %}" rel="stylesheet">
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet"> 
    <link rel="icon" href="{% static 'favicon.ico' %}" type="image/x-icon" />

</head>


<body class="h-[100vh]">

    <button  id="toggle-button" class="block md:hidden text-white focus:outline-none z-50 fixed text-xl top-20 right-0 bg-[#925FE2]  px-4 py-4 rounded-l-md" aria-expanded="false">☰</button>
<!-- sidebar and maincontent box -->
 <div class="flex max-h-full relative h-[100vh]">
    
    <div id="sidebar" class="w-[300px] z-50 h-[100vh] mx-0 bg-white pt-4 fixed md:static  left-[0px] transform -translate-x-full  md:translate-x-0 transition-transform duration-200 ease-in-out "  >
        

        <div class="flex justify-start ml-4 md:ml-10  cursor-pointer">
            <img src="{% static 'images/old_school_logo.png' %}" alt="logo" class="w-20">
        </div>
    
     <ul class="flex flex-col pl-4 md:pl-10 text-center items-start mt-4">

        <li class="my-2 " >
            <a href="{% url 'dashboard' %}" class="hover:font-semibold duration-200 flex justify-center items-center" >
                <img src="{% static 'images/dashboard_icon.png' %}" alt="db" class="w-3 h-3 mr-2" width="25px">
                Dashboard
            </a>
        </li>
        <li class="my-2 ">
            <a href="{% url 'profile' %}" class="hover:font-semibold duration-200 flex justify-center items-center">
                <img src="{% static 'images/profile_icon.png' %}" alt="pI" class="w-3 h-3 mr-2" width="25px">
                <div>Profile</div>
            </a>
        </li>

        <li class="my-2"> 
            <a href="{% url 'select_level' %}" class="hover:font-semibold duration-200 flex justify-center items-center">
                <img src="{% static 'images/hostel_icon.png' %}" alt="hst" class="w-3 h-3 mr-2" width="30px">
                Register Courses
            </a>
        </li>
       
        <!-- <li class="my-4"><a href="{% url 'submit_feedback' %}" class="hover:font-semibold duration-200">Submit Feedback</a></li>
        <li class="my-4"><a href="{% url 'view_feedback' %}" class="hover:font-semibold duration-200">View Feedback</a></li> -->
        <li class="my-2">
            <a href="https://paystack.com/pay/call-back" class="hover:font-semibold duration-200 flex justify-center items-center">
                <img src="{% static 'images/payment_icon.png' %}" alt="pm" class="w-3 h-3 mr-2" width="25px">
                <div>Payments</div>
            </a>
        </li>
        <li class="my-2">
            <a href="{% url 'forms' %}" class="hover:font-semibold duration-200 flex justify-center items-center">
                <img src="{% static 'images/profile_icon.png' %}" alt="fm" class="w-3 h-3 mr-2" width="30px">
                Forms
            </a>
        </li>
        <li class="my-2"> 
            <a href="{% url 'hostel' %}" class="hover:font-semibold duration-200 flex justify-center items-center">
                <img src="{% static 'images/hostel_icon.png' %}" alt="hst" class="w-3 h-3 mr-2" width="30px">
                Hostels
            </a>
        </li>


        <li class="my-2">
            <a href="{% url 'student_results' student_id=request.user.student.student_id %}" class="hover:font-semibold duration-200 flex justify-center items-center">
                <img src="{% static 'images/result_icon.png' %}" alt="rst" class="w-3 h-3 mr-2" width="30px">
                Results
            </a>
        </li>

        

        

        

        <li class="mt-10"> 
            <a href="https://schoolz.vercel.app/" target="_blank" class="hover:font-semibold duration-200 flex justify-center items-center">
                <img src="{% static 'images/back_icon.png' %}" alt="rst" class="w-3 h-3 mr-2" width="30px">
                Back to Website
            </a>
        </li>

      

     </ul>


     <div class="mt-4 flex align-bottom pl-4 md:pl-10">
        <form method="POST" action="{% url 'logout' %}">
            {% csrf_token %}
            <div class="flex items-center">
                <img src="{% static 'images/logout_icon.png' %}" alt="lg" class="w-3 h-3 mr-2" width="25px">
                <button type="submit" class="hover:font-semibold duration-200">Logout</button>
            </div>
        </form>
    </div>
   



    </div>


    <!-- maincontent -->
    <div id="container" class="container px-4 pt-4 bg-emerald-50 overflow-scroll">
        <div class="border-b mb-2">
            <marquee class="">
                <p class="text-xs text-gray-900">welcome >>>>>>>>>>
                    to your student portal >>>>>>>>>> 
                </p>
            </marquee>
        </div>
        <!-- nav -->
        <div class="flex justify-between">
            <div class="container w-full md:w-full mr-4">
                <form action="{% url 'search' %}" method="GET" class="flex justify-left">
                    <input 
                        type="text" 
                        name="query" 
                        placeholder="Search..." 
                        class="w-full max-w-md px-4  border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    >
                    <button 
                        type="submit" 
                        class=" ml-2 px-4 h-9 mt-1.5 text-white rounded-lg "
                    > Search</button>
                </form>
            </div>

            <div class="flex align-middle">

                <div class="flex justify-center items-center cursor-pointer w-8">
            
                   <a href="{% url 'profile' %}">
                    {% if user.student.profile_photo %}
                    <div class="">
                        <img src="{{ user.student.profile_photo.url }}" alt="Profile Photo" class="w-8 h-8 mb-2 rounded-full object-cover">
                    </div>
                    {% else %}
                        <img src="" alt="_">
                    {% endif %}
                   </a>

                </div>

                <div class="flex flex-col pt-2 ml-1 text-center items-center align-middle text-xs">
                    <p class=" font-thin">{{ user.first_name }} </p>
                    <p class=" font-thin"> {{ student.level }}lv</p>
                </div>

            </div>
        </div>

        {% block content %}
        {% endblock %}
    </div>

    
</div>

<!-- <h1 class="text-6xl font-bold text-center text-emerald-500">Hello, Tailwind!</h1> -->




 </div>
    


   

    <script>

        document.addEventListener("DOMContentLoaded", function() {
            const toggleButton = document.getElementById("toggle-button");
            const sidebar = document.getElementById("sidebar");

            toggleButton.addEventListener("click", function() {
                console.log('Toggle button clicked'); // Debugging line
                sidebar.classList.toggle("-translate-x-full");

                // Toggle the button content
                if (sidebar.classList.contains("-translate-x-full")) {
                    toggleButton.innerHTML = "☰"; // Hamburger icon
                    toggleButton.setAttribute("aria-expanded", "false");
                } else {
                    toggleButton.innerHTML = "<span style='color: white;'>✖</span>"; // Close icon with white color
                    toggleButton.setAttribute("aria-expanded", "true");
                }
            });
        });


    </script>


    
</body>
</html>
